<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.imobpay.base.dao.CrsUserInfoDao">

	
	<sql id="paramSql">
		<!--  此处一定要增加一个查询 -->
		<if test="creditnum !=null and creditnum !=''">
			AND CREDITNUM =  #{creditnum}
		</if>
		<if test="ischeckmoneyt0 !=null and ischeckmoneyt0 !=''">
			AND ISCHECKMONEYT0 =  #{ischeckmoneyt0}
		</if>
		<if test="ischeckcardnum !=null and ischeckcardnum !=''">
			AND ISCHECKCARDNUM =  #{ischeckcardnum}
		</if>
		<if test="moneyt1 !=null and moneyt1 !=''">
			AND MONEYT1 =  #{moneyt1}
		</if>
		<if test="moneyt0 !=null and moneyt0 !=''">
			AND MONEYT0 =  #{moneyt0}
		</if>
		<if test="curlevcheck !=null and curlevcheck !=''">
			AND CURLEVCHECK =  #{curlevcheck}
		</if>
		<if test="ischeckmoneyt1 !=null and ischeckmoneyt1 !=''">
			AND ISCHECKMONEYT1 =  #{ischeckmoneyt1}
		</if>
		<if test="username !=null and username !=''">
			AND USERNAME =  #{username}
		</if>
		<if test="mobile !=null and mobile !=''">
			AND MOBILE =  #{mobile}
		</if>
		<if test="curlev !=null and curlev !=''">
			AND CURLEV =  #{curlev}
		</if>
		<if test="createdate !=null and createdate !=''">
			AND CREATEDATE =  #{createdate}
		</if>
		<if test="status !=null and status !=''">
			AND STATUS =  #{status}
		</if>
		<if test="usercode !=null and usercode !=''">
			AND USERCODE =  #{usercode}
		</if>
		<if test="appuser !=null and appuser !=''">
			AND APPUSER =  #{appuser}
		</if>
		<if test="branchid !=null and branchid !=''">
			AND BRANCHID =  #{branchid}
		</if>
		<if test="pk1 !=null and pk1 !=''">
			AND PK1 =  #{pk1}
		</if>
	</sql>
	
	<parameterMap type="com.imobpay.base.entity.CrsUserInfo" id="paramIdCrsUserInfo">
		<parameter property="pageflag"  javaType="Boolean" jdbcType="VARCHAR" mode="IN" />
		<parameter property="curPage"   javaType="Integer" jdbcType="NUMERIC" mode="IN" />
		<parameter property="pageSize"  javaType="Integer" jdbcType="NUMERIC" mode="IN" />
		<parameter property="creditnum" javaType="Integer" jdbcType="NUMERIC" mode="IN"   />
		<parameter property="ischeckmoneyt0" javaType="String" jdbcType="VARCHAR" mode="IN"   />
		<parameter property="ischeckcardnum" javaType="String" jdbcType="VARCHAR" mode="IN"   />
		<parameter property="moneyt1" javaType="Integer" jdbcType="NUMERIC" mode="IN"   />
		<parameter property="moneyt0" javaType="Integer" jdbcType="NUMERIC" mode="IN"   />
		<parameter property="curlevcheck" javaType="String" jdbcType="VARCHAR" mode="IN"   />
		<parameter property="ischeckmoneyt1" javaType="String" jdbcType="VARCHAR" mode="IN"   />
		<parameter property="username" javaType="String" jdbcType="VARCHAR" mode="IN"   />
		<parameter property="mobile" javaType="String" jdbcType="VARCHAR" mode="IN"   />
		<parameter property="curlev" javaType="Integer" jdbcType="NUMERIC" mode="IN"   />
		<parameter property="createdate" javaType="String" jdbcType="VARCHAR" mode="IN"   />
		<parameter property="status" javaType="String" jdbcType="VARCHAR" mode="IN"   />
		<parameter property="usercode" javaType="String" jdbcType="VARCHAR" mode="IN"   />
		<parameter property="appuser" javaType="String" jdbcType="VARCHAR" mode="IN"   />
		<parameter property="branchid" javaType="String" jdbcType="VARCHAR" mode="IN"   />
		<parameter property="pk1" javaType="String" jdbcType="VARCHAR" mode="IN"   />
	</parameterMap>

	<resultMap type="com.imobpay.base.entity.CrsUserInfo" id="resultTbCrsUserInfo">
		<result column="CREDITNUM" property="creditnum" javaType="Integer" jdbcType="NUMERIC" />
		<result column="ISCHECKMONEYT0" property="ischeckmoneyt0" javaType="String" jdbcType="VARCHAR" />
		<result column="ISCHECKCARDNUM" property="ischeckcardnum" javaType="String" jdbcType="VARCHAR" />
		<result column="MONEYT1" property="moneyt1" javaType="Integer" jdbcType="NUMERIC" />
		<result column="MONEYT0" property="moneyt0" javaType="Integer" jdbcType="NUMERIC" />
		<result column="CURLEVCHECK" property="curlevcheck" javaType="String" jdbcType="VARCHAR" />
		<result column="ISCHECKMONEYT1" property="ischeckmoneyt1" javaType="String" jdbcType="VARCHAR" />
		<result column="USERNAME" property="username" javaType="String" jdbcType="VARCHAR" />
		<result column="MOBILE" property="mobile" javaType="String" jdbcType="VARCHAR" />
		<result column="CURLEV" property="curlev" javaType="Integer" jdbcType="NUMERIC" />
		<result column="CREATEDATE" property="createdate" javaType="String" jdbcType="VARCHAR" />
		<result column="STATUS" property="status" javaType="String" jdbcType="VARCHAR" />
		<result column="USERCODE" property="usercode" javaType="String" jdbcType="VARCHAR" />
		<result column="APPUSER" property="appuser" javaType="String" jdbcType="VARCHAR" />
		<result column="BRANCHID" property="branchid" javaType="String" jdbcType="VARCHAR" />
		<result column="PK1" property="pk1" javaType="String" jdbcType="VARCHAR" />
	</resultMap>

	<select id="selectById" parameterMap="paramIdCrsUserInfo" resultMap="resultTbCrsUserInfo">
		SELECT * FROM CRS_USER_INFO WHERE  ROWNUM = 1  
		<include refid="paramSql"></include>
	</select>
	
	<select id="list" parameterMap="paramIdCrsUserInfo" resultMap="resultTbCrsUserInfo">
		<if test="pageflag==true">
			SELECT * FROM (
				SELECT A.*, ROWNUM RN FROM
				(
					SELECT * FROM CRS_USER_INFO WHERE 1=1
					<include refid="paramSql"></include>
				) A WHERE ROWNUM &lt;= #{curPage}*#{pageSize}
				) WHERE RN  &gt;=
			(#{curPage}-1)*#{pageSize}
		</if>
		<if test="pageBlag==false">
			SELECT * FROM CRS_USER_INFO
			WHERE 1=1
			<include refid="paramSql"></include>
		</if>
	</select>
	
	<select id="listCount" parameterMap="paramIdCrsUserInfo" resultType="Integer">
				SELECT count(1) as count FROM CRS_USER_INFO
				WHERE 1=1 
				<include refid="paramSql"></include>
	</select>
	
	<!-- 添加 -->
	<insert id="insert" parameterMap="paramIdCrsUserInfo" timeout="1000"  >
		INSERT INTO 
		CRS_USER_INFO(
CREDITNUM,
		ISCHECKMONEYT0,
		ISCHECKCARDNUM,
		MONEYT1,
		MONEYT0,
		CURLEVCHECK,
		ISCHECKMONEYT1,
		USERNAME,
		MOBILE,
		CURLEV,
		CREATEDATE,
		STATUS,
		USERCODE,
		APPUSER,
		BRANCHID,
				PK1
		
		)
		VALUES(		#{creditnum},
				#{ischeckmoneyt0},
				#{ischeckcardnum},
				#{moneyt1},
				#{moneyt0},
				#{curlevcheck},
				#{ischeckmoneyt1},
				#{username},
				#{mobile},
				#{curlev},
				#{createdate},
				#{status},
				#{usercode},
				#{appuser},
				#{branchid},
		
#{pk1})
	</insert>
	
	<!-- 修改 -->
	<update id="update"  timeout="1000" >
		UPDATE CRS_USER_INFO 
		<trim prefix="SET" prefixOverrides="SET ,">
		<if test="creditnum !=null and creditnum !=''">
			,CREDITNUM = #{creditnum}  
		</if>
		<if test="ischeckmoneyt0 !=null and ischeckmoneyt0 !=''">
			,ISCHECKMONEYT0 = #{ischeckmoneyt0}  
		</if>
		<if test="ischeckcardnum !=null and ischeckcardnum !=''">
			,ISCHECKCARDNUM = #{ischeckcardnum}  
		</if>
		<if test="moneyt1 !=null and moneyt1 !=''">
			,MONEYT1 = #{moneyt1}  
		</if>
		<if test="moneyt0 !=null and moneyt0 !=''">
			,MONEYT0 = #{moneyt0}  
		</if>
		<if test="curlevcheck !=null and curlevcheck !=''">
			,CURLEVCHECK = #{curlevcheck}  
		</if>
		<if test="ischeckmoneyt1 !=null and ischeckmoneyt1 !=''">
			,ISCHECKMONEYT1 = #{ischeckmoneyt1}  
		</if>
		<if test="username !=null and username !=''">
			,USERNAME = #{username}  
		</if>
		<if test="mobile !=null and mobile !=''">
			,MOBILE = #{mobile}  
		</if>
		<if test="curlev !=null and curlev !=''">
			,CURLEV = #{curlev}  
		</if>
		<if test="createdate !=null and createdate !=''">
			,CREATEDATE = #{createdate}  
		</if>
		<if test="status !=null and status !=''">
			,STATUS = #{status}  
		</if>
		<if test="usercode !=null and usercode !=''">
			,USERCODE = #{usercode}  
		</if>
		<if test="appuser !=null and appuser !=''">
			,APPUSER = #{appuser}  
		</if>
		<if test="branchid !=null and branchid !=''">
			,BRANCHID = #{branchid}  
		</if>
		<if test="pk1 !=null and pk1 !=''">
			,PK1 = #{pk1}  
		</if>
		</trim>
		WHERE 1=1
		<include refid="paramSql"></include>
	</update>
	
</mapper>